# The Shattered Kingdom - Path of Predation

ROOT: PREDATION_START

# --- The Tulgey Wood ---
NODE: PREDATION_START
MSG: You step into the Tulgey Wood. The trees are tall and menacing, their branches twisting into grotesque shapes. The air is still, but you feel a dozen unseen eyes watching you. You hear a low growl, and for a moment, you see a pair of glowing yellow eyes in the undergrowth. This is a hunter's domain.
CHOICE: "Proceed cautiously." | target:PREDATION_PROCEED
CHOICE: "Call out to whoever is there." | target:PREDATION_CALL_OUT
CHOICE: "Try to find a weapon." | target:PREDATION_FIND_WEAPON

# --- Cautious Progress ---
NODE: PREDATION_PROCEED
MSG: You move slowly, trying to stay in the shadows. You come to a clearing and see a group of seven short, stout men, their faces covered in grime, their axes sharp. They are arguing in low, gravelly voices. They are the Seven Dwarfs, but they look more like a gang of grizzled hunters than miners.
CHOICE: "Approach the Dwarfs." | target:PREDATION_APPROACH_DWARFS
CHOICE: "Hide and listen to their conversation." | target:PREDATION_LISTEN_DWARFS
CHOICE: "Avoid them and continue deeper into the woods." | target:PREDATION_AVOID_DWARFS

NODE: PREDATION_CALL_OUT
MSG: "Who's there?" you shout. The only answer is a disembodied chuckle that seems to come from everywhere at once. "A bold little morsel," a voice purrs. "Are you the hunter, or the hunted?" A wide, toothy grin appears in the air before you, a fang hanging from a chain around its neck.
CHOICE: "I'm looking for the Cheshire Cat." | target:PREDATION_APPROACH_CAT
CHOICE: "What do you want?" | target:PREDATION_APPROACH_CAT

# --- The Seven Dwarfs ---
NODE: PREDATION_LISTEN_DWARFS
MSG: You hide behind a large, mossy rock and listen. "I tell you, Grumpy, it's the beast's fang we need!" one dwarf says. "The Big Bad Wolf himself, come back to haunt us! If we can get that tooth, it'll prove we're the best hunters in this shattered kingdom." Another one, with a long white beard, shakes his head. "It ain't the wolf, Doc. It's something else. Something... shifty."
CHOICE: "They're after the same thing I am." | target:PREDATION_APPROACH_DWARFS
CHOICE: "This is my chance to slip by them." | target:PREDATION_AVOID_DWARFS

NODE: PREDATION_APPROACH_DWARFS
MSG: You step into the clearing. The seven dwarfs immediately raise their axes, their faces hostile. "Well, well," growls the one in the lead. "Look what we have here. Another trespasser. This is our hunting ground. State your business, before we make it our business to chop you down to our size."
CHOICE: "I'm just passing through." | target:PREDATION_DWARFS_PASSING
CHOICE: "I'm also hunting the creature with the tooth." | target:PREDATION_DWARFS_HUNTING
CHOICE: "I'm looking for Snow White." | target:PREDATION_DWARFS_SNOW_WHITE

NODE: PREDATION_DWARFS_HUNTING
MSG: The lead dwarf, Grumpy, lowers his axe slightly. "Oh, are you now? You think you can take on the Cheshire Cat? That 'beast' has been the bane of our existence. It steals our gems, collapses our tunnels... it thinks the whole forest is its personal toy box."
CHOICE: "Let's work together." | target:PREDATION_DWARFS_ALLIANCE
CHOICE: "I can handle it myself." | target:PREDATION_AVOID_DWARFS

NODE: PREDATION_DWARFS_ALLIANCE
MSG: Grumpy scoffs. "Work with you? Why should we? We're the best hunters in this realm." Doc, the one with the beard, steps forward. "Now, Grumpy, let's hear them out. If you can help us, we'll help you. We need to trap the cat. It's too clever for us. But we know its weakness: vanity. It can't resist a truly flawless gem. If you can bring us the 'Heart of the Mountain' from the collapsed mine, we'll use it to lure the cat into our trap. The tooth is yours if you help us."
CHOICE: "The Heart of the Mountain? Where is this mine?" | target:PREDATION_MINE_QUEST
CHOICE: "That's too much work. I'll find another way." | target:PREDATION_APPROACH_CAT

NODE: PREDATION_DWARFS_PASSING
MSG: "Just passing through, eh?" Grumpy says, unconvinced. "This is our forest. We don't take kindly to strangers. Now, scram before we make you."
CHOICE: "I'll be on my way." | target:PREDATION_AVOID_DWARFS

NODE: PREDATION_DWARFS_SNOW_WHITE
MSG: The dwarfs all exchange uneasy glances. "Snow White?" Doc says softly. "We... we haven't seen her in a long time. Not since the Queen's mirror shattered. She's... gone."
CHOICE: "What happened to her?" | target:PREDATION_DWARFS_SNOW_WHITE_STORY
CHOICE: "I'm sorry to hear that." | target:PREDATION_APPROACH_DWARFS

NODE: PREDATION_DWARFS_SNOW_WHITE_STORY
MSG: "The Queen's vanity shattered more than just glass," Doc says grimly. "It shattered stories. Snow White is a part of that. We're all just... echoes."
CHOICE: "I understand." | target:PREDATION_APPROACH_DWARFS

NODE: PREDATION_AVOID_DWARFS
MSG: You decide to avoid the dwarfs for now. You slip back into the shadows and continue deeper into the woods, the dwarfs' gruff voices fading behind you.
CHOICE: "Continue deeper into the woods." | target:PREDATION_APPROACH_CAT

NODE: PREDATION_APPROACH_CAT
MSG: The Cheshire Cat's grin widens. "You found me. Or, did I let you find me? It's all a matter of perspective, isn't it?" The cat materializes, a sleek, shadowy creature with a cruel intelligence in its eyes. The Wolf's Tooth hangs from its neck. "You want the tooth, don't you? A relic of a simpler story. A story of a foolish girl, a gullible grandmother, and a wolf who was all bark and no bite."
CHOICE: "I'll trade you for it." | target:PREDATION_CAT_TRADE
CHOICE: "I'll fight you for it." | target:PREDATION_CAT_FIGHT
CHOICE: "I'll win it from you in a game of riddles." | target:PREDATION_CAT_RIDDLES

NODE: PREDATION_CAT_TRADE
MSG: "Trade?" the Cheshire Cat purrs, amused. "What could a story-less little thing like you possibly have that I would want?"
CHOICE: "I have this magic bean..." | condition:hasitem:Magic Bean | target:PREDATION_CAT_BEAN_TRADE
CHOICE: "I can tell you a story." | target:PREDATION_CAT_STORY_TRADE
CHOICE: "Nothing, I suppose." | target:PREDATION_CAT_FIGHT

NODE: PREDATION_CAT_BEAN_TRADE
MSG: "A magic bean!" The cat's eyes widen with something akin to delight. "How curious! I do love things that grow in unexpected ways. Very well. A trade it is." The cat tosses you the Wolf's Tooth.
CHOICE: "Leave the woods with your prize." | item:Wolf's Tooth:QUEST_ITEM:0 | target:CROSSROADS_MAIN

NODE: PREDATION_CAT_STORY_TRADE
MSG: "A story?" The cat's grin widens. "From a story-less one? How deliciously ironic. Very well. Amuse me. Tell me a story I haven't heard."
CHOICE: "Tell the story of your own past." | condition:memory_unlocked | target:PREDATION_CAT_STORY_SUCCESS
CHOICE: "Make up a story on the spot." | target:PREDATION_CAT_STORY_FAIL

NODE: PREDATION_CAT_STORY_SUCCESS
MSG: You tell the cat the story of your own fragmented memories, of a world outside the Shattered Kingdom. The cat is captivated. "How strange... how wonderfully, beautifully strange. A story I don't know! A trade is a trade." The cat gives you the Wolf's Tooth.
CHOICE: "Leave the woods with your prize." | item:Wolf's Tooth:QUEST_ITEM:0 | target:CROSSROADS_MAIN

NODE: PREDATION_CAT_STORY_FAIL
MSG: You try to weave a tale, but your words are hollow, your narrative lacking. The cat yawns. "How dreadfully boring. I'm afraid you've wasted my time. And now, I shall waste yours." The cat disappears, and you are left with nothing.
CHOICE: "Continue your journey." | target:CROSSROADS_MAIN

NODE: PREDATION_FIND_WEAPON
MSG: You search the area and find a sturdy tree branch. It's not much, but it's better than nothing.
CHOICE: "Take the branch." | item:Sturdy Branch:WEAPON:1 | target:PREDATION_PROCEED

NODE: PREDATION_CAT_RIDDLES
MSG: The cat purrs with delight. "A battle of wits! How delicious! Very well. Answer my riddle, and the tooth is yours. Fail, and I get to... play with you."
CHOICE: "I accept." | target:PREDATION_RIDDLE_START
CHOICE: "I don't have time for games." | target:PREDATION_CAT_FIGHT

NODE: PREDATION_RIDDLE_START
MSG: "I have cities, but no houses. I have mountains, but no trees. I have water, but no fish. What am I?"
CHOICE: "A map." | target:PREDATION_RIDDLE_SUCCESS
CHOICE: "A dream." | target:PREDATION_RIDDLE_FAIL
CHOICE: "A reflection." | target:PREDATION_RIDDLE_FAIL

NODE: PREDATION_RIDDLE_SUCCESS
MSG: The Cheshire Cat's smile falters for a moment. "Clever... very clever. A deal is a deal." The cat unclasps the chain and tosses the Wolf's Tooth to you. "But be warned," it purrs, "the next time we meet, the game will be mine." The cat fades away, leaving you with your prize.
CHOICE: "Leave the woods with your prize." | item:Wolf's Tooth:QUEST_ITEM:0 | target:CROSSROADS_MAIN

NODE: PREDATION_RIDDLE_FAIL
MSG: The cat chuckles. "Wrong. So wrong." The world around you begins to warp and twist. The trees become monstrous beasts, and the path disappears. You are lost in the Cheshire Cat's illusion, a plaything for its amusement until your story fades completely.
CHOICE: "..." | target:END_GAME

# --- Placeholder for Mine Quest and Combat ---
NODE: PREDATION_MINE_QUEST
MSG: The dwarfs give you a map to the collapsed mine. It's a dangerous place, filled with traps and strange creatures. (To be implemented)
CHOICE: "Return to the crossroads for now." | target:CROSSROADS_MAIN

NODE: PREDATION_CAT_FIGHT
MSG: You attack the Cheshire Cat. It's a disorienting fight, as the cat teleports around the battlefield, its attacks coming from all directions. (To be implemented)
CHOICE: "Return to the crossroads for now." | target:CROSSROADS_MAIN
